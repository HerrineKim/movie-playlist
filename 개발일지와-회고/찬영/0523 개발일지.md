# ğŸ“‘ 0523 ê°œë°œì¼ì§€

<hr>


### ğŸ”¥ ì˜¤ëŠ˜ ë­í–ˆì§€?

- ìœ ì €ê°€ ì¢‹ì•„ìš” í•œ ì˜í™”ì™€ ë¹„ìŠ·í•œ ì˜í™” ë°ì´í„° ì‘ë‹µí•˜ëŠ” API êµ¬ì¶•
- ìœ ì €ê°€ ê²€ìƒ‰í•œ ì˜í™”ì™€ ë¹„ìŠ·í•œ ì˜í™” ë°ì´í„° ì‘ë‹µí•˜ëŠ” API êµ¬ì¶•

<br>

### ğŸ‘Š íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

#### 1. Django Secret Key

**"SECRET_KEY ë€ íŠ¹ì • django ì„¤ì¹˜ì„ ìœ„í•œ ë¹„ë°€ í‚¤ì´ë©° ì´ëŠ” ì•”í˜¸í™” ì„œëª…ì„ ì œê³µí•˜ëŠ” ë° ì‚¬ìš©ë˜ë©° ê³ ìœ í•˜ê³  ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ê°’ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤. "ë¼ê³ ** ë‚˜ì™€ ìˆë‹¤. ì¦‰, ì•”í˜¸í™” ì¸ì¦ì— ì‚¬ìš©ë˜ëŠ” ë¹„ë°€í‚¤ë¼ëŠ” ë§ì´ë‹¤. - (ë³´ì•ˆ ê´€ë¦¬)  

[Django ê³µì‹ë¬¸ì„œ](https://docs.djangoproject.com/en/4.0/ref/settings/#std:setting-SECRET_KEY)ë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì•ˆë‚´ ë˜ì–´ ìˆë‹¤.  

[secret.json ìƒì„± í•˜ëŠ” ë²•](https://grape-blog.tistory.com/17)



#### 2. AttributeError: Got AttributeError when attempting to get a value for field `title` on serializer `UserMovieSimilarSerializer`.

![image-20220523104511852](0523%20%EA%B0%9C%EB%B0%9C%EC%9D%BC%EC%A7%80.assets/image-20220523104511852.png)

ì´ ì—ëŸ¬ëŠ” ì• ì´ˆì— ì˜ëª» ì‘ì„±í•´ì„œ ë°œìƒí–ˆë˜ ì—ëŸ¬ì˜€ë‹¤. ìœ„ì— ì—ëŸ¬ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” `UserMovieSimilarSerializer`ì— many=True ì˜µì…˜ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤!



#### 3. ë‹¨ì¼ ê²Œì‹œê¸€ì—ì„œ ì¢‹ì•„ìš” ê°œìˆ˜ì™€ ëŒ“ê¸€ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚¼ ë•Œ

![image-20220523211413328](0523%20%EA%B0%9C%EB%B0%9C%EC%9D%BC%EC%A7%80.assets/image-20220523211413328.png)

ê²Œì‹œê¸€ ëª©ë¡ì—ì„œëŠ” orm annotateë¡œ ê°ê°ì˜ ê°’ì„ êµ¬í•´ì¤¬ì§€ë§Œ, ë‹¨ì¼ ê²Œì‹œê¸€ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ í•¨

```python
# ë‹¨ì¼ ê²Œì‹œê¸€ ì •ë³´
class ArticleSerializer(serializers.ModelSerializer):
    
    class UserSerializer(serializers.ModelSerializer):
        class Meta:
            model = User
            fields = ('pk', 'nickname')

    comments = CommentSerializer(many=True, read_only=True)
    user = UserSerializer(read_only=True)
    like_users = UserSerializer(read_only=True, many=True)

    like_count = serializers.IntegerField(source='like_users.count')
    comment_count = serializers.IntegerField(source='comments.count', read_only=True)
    class Meta:
        model = Article
        fields = ('pk', 'user', 'title', 'content', 'comments', 'created_at', 'updated_at', 'like_users', 'like_count', 'comment_count',)

```

#### 4. ë‹¨ì¼ ì˜í™” ìƒì„¸ ì—ì„œ ì¥ë¥´ì™€ ë°°ìš°ê°€ idë§Œ ë‚˜ì˜¤ëŠ” ìƒí™©ì—ì„œ ì¥ë¥´ëª…ê³¼ ë°°ìš° ì´ë¦„ê¹Œì§€ í•¨ê»˜ ë‚˜ì˜¤ê³  ì‹¶ì„ ë•Œ

ê¸°ì¡´ì— í•„ë“œëª…ì„ ë³€ê²½

```python
# ë‹¨ì¼ ì˜í™” ìƒì„¸ ì •ë³´
class MovieSerializer(serializers.ModelSerializer):

    class GenreSerializer(serializers.ModelSerializer):
        class Meta:
            model = Genre
            fields = ('name',)

    class ActorSerializer(serializers.ModelSerializer):
        class Meta:
            model = Actor
            fields = ('name',)

    genres = GenreSerializer(read_only=True, many=True)
    actors = ActorSerializer(read_only=True, many=True)
    like_movies = UserSerializer(read_only=True, many=True)

    class Meta:
        model = Movie
        exclude = ('popularity', 'tagline', 'vote_average', 'vote_count', 'words',)
```



#### 5. ë¸Œë¼ìš°ì €ì˜ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— í† í°ì´ ë‚¨ì•„ ìˆì–´ì„œ ë‹¤ë¥¸ ì„œë²„ë¥¼ ìš”ì²­í•˜ë©´ ì´ì „ ì„œë²„ì— í•´ë‹¹í•˜ëŠ” í† í°ì„ ì ìš©ì‹œì¼œë²„ë ¤ì„œ ì§„ì§œ í•´ê´´í•œ ìƒí™©ì´ ë‚˜ì˜¨ë‹¤ ã…ã…



<br>

### â‰ï¸ ê³ ë¯¼í•´ ë³¼ ê²ƒ

#### 1. í‰ì  ë°›ê¸° ì–´ë–»ê²Œ í•˜ë©´ rest í•˜ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ?

[ì˜í™” í‰ì  ì‹œìŠ¤í…œ](https://velog.io/@ready2start/Mollbar-%EC%98%81%ED%99%94-%ED%8F%89%EC%A0%90-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)


